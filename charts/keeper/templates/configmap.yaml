apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "keeper.fullname" . }}
  labels:
    {{- include "keeper.labels" . | nindent 4 }}
data:
  LOG_LEVEL: {{ .Values.settings.logLevel | quote }}
  ENABLED_NETWORKS: {{ .Values.settings.enabledNetworks | quote }}
  ENABLE_HEALTH_SERVER: {{ .Values.settings.enableHealthServer | quote }}
  HEALTH_SERVER_HOST: {{ .Values.settings.healthServerHost | quote }}
  HEALTH_SERVER_PORT: {{ .Values.settings.healthServerPort | quote }}
  {{- if contains "eth_mainnet" .Values.settings.enabledNetworks }}
  ETH_MAINNET_KEEPER_ETH1_ENDPOINT: {{ .Values.settings.eth1Endpoint.mainnet | quote }}
  {{- end }}
  {{- if contains "eth_goerli" .Values.settings.enabledNetworks }}
  ETH_GOERLI_KEEPER_ETH1_ENDPOINT: {{ .Values.settings.eth1Endpoint.goerli | quote }}
  {{- end }}
  {{- if contains "gnosis" .Values.settings.enabledNetworks }}
  GNOSIS_KEEPER_ETH1_ENDPOINT: {{ .Values.settings.eth1Endpoint.gnosis | quote }}
  {{- end }}
  {{- range $key, $value := .Values.settings.extraEnv }}
  {{ $key }}: {{ $value | quote -}}
  {{- end -}}
