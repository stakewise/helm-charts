{{- if .Values.validator.serviceAccount.create -}}
{{- $root := . -}}
{{- range (untilStep 0 (int .Values.validator.replicas) 1) }}
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: validator{{.}}
  labels:
    {{- include "node-operator.labels" $root | nindent 4 }}
    {{- include "validator.labels" $root | nindent 4 }}
  {{- with $root.Values.validator.serviceAccount.annotations }}
  annotations:
    {{- toYaml . | nindent 4 }}
  {{- end }}
{{- end }}
{{- end }}
