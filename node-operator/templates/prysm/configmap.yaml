{{- if and .Values.prysm.beacon.enabled .Values.prysm.beacon.prater -}}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "node-operator.fullname" . }}-prysm-prater
  labels:
    {{- include "node-operator.labels" . | nindent 4 }}
    {{- include "prysm-beacon.labels" . | nindent 4 }}
data:
  entrypoint.sh: |
    #!/bin/sh
    if ! [ -f /data/gensis.ssz ]; then
      curl --output /data/gensis.ssz "https://raw.githubusercontent.com/eth2-clients/eth2-networks/32dcce003694ea17e04bc17cc56de2f7909a1d95/shared/prater/genesis.ssz"
    fi
{{- end }}